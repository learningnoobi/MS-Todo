{% extends 'core/base.html' %}
{% load static %}
{% load crispy_forms_tags %}
{% block content %}

<div class="sidebar">
      <a href="{% url 'home' %}" class="todos">MS Todo</a>
      <a class="active" href="#home"><i class="fa fa-user" style="margin-right:10px;"></i><span class="name">{{request.user}}</span></a>
      <a href="#news"><i class="fa fa-star" style="margin-right:10px;"></i><span class="name">Important</a>
      <a href="#contact" data-toggle="modal" data-target="#exampleModal"><i class="fa fa-plus" style="margin-right:10px;"></i><span class="name">Tasks</span></a>
      <a href="#about" class="down" style=""><i class="fa fa-eye" style="margin-right:10px;"></i><span class="name">Date</span></a>
    <span class="todos">
      	<a class="active"><i class="fa fa-user" style="margin-right:10px;"></i>Tasks</a>
      	{% for task in side_tasks %}
          <a><i class="fa fa-bars" style="margin-right:10px;"></i>{{task.title}}</a>
          
         {% empty %}
         <a href="#about" class="down" style=""><i class="fa fa-bars" style="margin-right:10px;"></i><span class="name">No tasks added yet!</span></a>
          {% endfor %}
    </span>
       <a class="active" href="{% url 'logout' %}">Logout</a>
</div>

 
  <div class="content">     
     
          <div class="alert alert-info alerts" style="background-color: #333; color: white;">    
            {{task.title}} 
             
            <div class="float-right" style="margin-top: -6px;">
                <span class="alert" style="padding:8px 8px; background-color: #333;">{{ task.created }}</span>
                <button  data-toggle="modal" data-target="#updatemodal" class="btn btn-secondary" >Edit</button>
                <button  data-toggle="modal" data-target="#deletemodal" class="btn btn-danger"><i class="fa fa-trash"></i></button>             
            </div>
            <div class="alert alert-info alerts" style="background-color: #444; color: white;">   
              {{ task.detail }} 
            </div>
            </div>
            
         <div class="modal fade" id="updatemodal" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
          <div class="modal-dialog" role="document">
            <div class="modal-content" style="background-color: #222;">
              <div class="modal-header">
                <h5 class="modal-title alert alert-info" id="exampleModalLabel">Update Task</h5>
                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                  <span aria-hidden="true">&times;</span>
                </button>
              </div>
              <div class="modal-body">
                <form method="POST" action="{% url 'update' task.id %}">
                {% csrf_token %}
                {{form|crispy}}
                 <button type="submit" class="btn btn-success"><i class="fa fa-check"></i></button>
              </form>
               </div>
            
              </div>
            </div>
        </div>


        <div class="modal fade" id="deletemodal" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
          <div class="modal-dialog" role="document"  style="color: white;">
            <div class="modal-content" style="background-color: #222;">
              <div class="modal-header">
                <h5 class="modal-title" id="exampleModalLabel">Confirm Delete</h5>
                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                  <span aria-hidden="true">&times;</span>
                </button>
              </div>
              <div class="modal-body">
               
                      <h5 class="alert alert-danger">Are you sure you want To delete this ?</h5>                     
                
               </div>
               <div class="modal-footer">
                 <a class="btn btn-info" href="{% url 'home' %}"><i class="fa fa-home"></i></a>
                <form  method="POST" action="{% url 'delete' task.id %}">
                    {% csrf_token %}
                <button type="submit" class="btn btn-danger"><i class="fa fa-trash"></i></button>
              </form> 
            </div>
              </div>
            </div>
        </div>

       
  </div>
{% endblock %}